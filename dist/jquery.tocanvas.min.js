/*
 *  jquery-tocanvas - v0.1.0
 *  A jquery plugin to overlay any img with a canvas to add effects to it
 *  http://seedoubleyou.nl
 *
 *  Made by Cees-Willem Hofstede
 *  Under MIT License
 */
!function(a){"use strict";function b(b,e){this.element=a(b),this.canvas=a("<canvas>"),this.context,this.wrapper=a("<div>"),this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="toCanvas",d={opacity:.8,zIndex:10};a.extend(b.prototype,{init:function(){function a(){for(var a=b.context.getImageData(0,0,b.w,b.h),c=a.data,d=0,e=c.length;e>d;d+=4){var f=.3*c[d]+.59*c[d+1]+.11*c[d+2];c[d]=f,c[d+1]=f,c[d+2]=f}b.context.putImageData(a,0,0)}var b=this;b.w=b.element.width(),b.h=b.element.height(),b.wrapper.addClass("tc_wrapper").css({position:"relative",width:b.w,height:b.h}),b.canvas.addClass("tc_canvas").css({position:"absolute",top:0,left:0,zIndex:b.settings.zIndex,opacity:b.settings.opacity}).attr({width:b.w,height:b.h}),b.element.addClass("tc_image").wrap(b.wrapper).before(b.canvas),b.context=this.canvas.get(0).getContext("2d");var c=new Image;c.onload=function(){b.context.drawImage(c,0,0,b.w,b.h),a()},c.src=this.element.attr("src")}}),a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);